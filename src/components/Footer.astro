---
import { ui } from "../data/ui.ts";
const year = new Date().getFullYear();
interface Props {
  id?: string;
  lang: keyof typeof ui;
}
const { id, lang = "ja" } = Astro.props;
const t = ui[lang];
const formUrl =
  lang === "ja"
    ? "https://forms.gle/ceRWUNZjinac3o7R7"
    : "https://forms.gle/K1wKwsxXtEEWg9K17";
const footerLinks: { key: keyof typeof t; href: string; isExternal?: boolean }[] = [
  { key: "legal.privacy-policy", href: 'legal/privacy-policy' },
  { key: "legal.terms-of-service", href: 'legal/terms-of-service' },
  { key: "legal.external-transmission-policy", href: 'legal/external-transmission-policy' },
  { key: "legal.licenses", href: 'legal/licenses' },
  { key: "legal.form", href: formUrl, isExternal: true },
];
---

<footer id={id} class="py-8 border-t border-gray-200 dark:border-gray-800">
  <div class="container mx-auto px-4 text-center text-gray-500">
    <nav
      class="flex flex-wrap justify-center items-center gap-y-2 gap-x-6 mb-4 text-sm"
    >
      {
        footerLinks.map((link) => (
          <a
            href={link.isExternal ? link.href : `/${lang}/${link.href}`}
            class="whitespace-nowrap hover:text-gray-900 dark:hover:text-white transition-colors"
            target={link.isExternal ? "_blank" : undefined}
            rel={link.isExternal ? "noopener noreferrer" : undefined}
          >
            {t[link.key]}
          </a>
        ))
      }
    </nav>
    <p>&copy; {year} Haruta Watanabe. All rights reserved.</p>
  </div>
</footer>
